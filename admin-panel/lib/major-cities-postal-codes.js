// Codes postaux des grandes villes par pays
const majorCitiesPostalCodes = {
  'France': {
    'Paris': ['75001', '75002', '75003', '75004', '75005', '75006', '75007', '75008', '75009', '75010', '75011', '75012', '75013', '75014', '75015', '75016', '75017', '75018', '75019', '75020'],
    'Marseille': ['13001', '13002', '13003', '13004', '13005', '13006', '13007', '13008', '13009', '13010', '13011', '13012', '13013', '13014', '13015', '13016'],
    'Lyon': ['69001', '69002', '69003', '69004', '69005', '69006', '69007', '69008', '69009'],
    'Toulouse': ['31000', '31100', '31200', '31300', '31400', '31500'],
    'Nice': ['06000', '06100', '06200', '06300'],
    'Nantes': ['44000', '44100', '44200', '44300'],
    'Strasbourg': ['67000', '67100', '67200'],
    'Montpellier': ['34000', '34070', '34080', '34090'],
    'Bordeaux': ['33000', '33100', '33200', '33300', '33800'],
    'Lille': ['59000', '59160', '59260', '59800']
  },
  'Allemagne': {
    'Berlin': ['10115', '10117', '10119', '10178', '10179', '10435', '10437', '10439', '10557', '10559'],
    'Munich': ['80331', '80333', '80335', '80336', '80337', '80469', '80538', '80539'],
    'Hambourg': ['20095', '20097', '20099', '20144', '20146', '20148', '20149'],
    'Cologne': ['50667', '50668', '50670', '50672', '50674', '50676', '50677', '50678'],
    'Francfort': ['60311', '60313', '60316', '60318', '60320', '60322', '60323', '60325'],
    'Stuttgart': ['70173', '70174', '70176', '70178', '70180', '70182', '70184'],
    'Düsseldorf': ['40210', '40211', '40212', '40213', '40215', '40217', '40219']
  },
  'Italie': {
    'Rome': ['00118', '00119', '00120', '00121', '00122', '00123', '00124', '00125', '00126', '00127'],
    'Milan': ['20121', '20122', '20123', '20124', '20125', '20126', '20127', '20128', '20129'],
    'Naples': ['80121', '80122', '80123', '80124', '80125', '80126', '80127', '80128'],
    'Turin': ['10121', '10122', '10123', '10124', '10125', '10126', '10127', '10128'],
    'Palerme': ['90121', '90122', '90123', '90124', '90125', '90126', '90127'],
    'Gênes': ['16121', '16122', '16123', '16124', '16125', '16126'],
    'Bologne': ['40121', '40122', '40123', '40124', '40125', '40126'],
    'Florence': ['50121', '50122', '50123', '50124', '50125'],
    'Venise': ['30121', '30122', '30123', '30124', '30125']
  },
  'Espagne': {
    'Madrid': ['28001', '28002', '28003', '28004', '28005', '28006', '28007', '28008', '28009', '28010'],
    'Barcelone': ['08001', '08002', '08003', '08004', '08005', '08006', '08007', '08008', '08009', '08010'],
    'Valence': ['46001', '46002', '46003', '46004', '46005', '46006', '46007', '46008', '46009'],
    'Séville': ['41001', '41002', '41003', '41004', '41005', '41006', '41007', '41008', '41009'],
    'Saragosse': ['50001', '50002', '50003', '50004', '50005', '50006', '50007', '50008'],
    'Malaga': ['29001', '29002', '29003', '29004', '29005', '29006', '29007', '29008'],
    'Bilbao': ['48001', '48002', '48003', '48004', '48005', '48006', '48007', '48008']
  },
  'Portugal': {
    'Lisbonne': ['1000', '1050', '1070', '1100', '1150', '1170', '1200', '1250', '1300', '1350'],
    'Porto': ['4000', '4050', '4100', '4150', '4200', '4250', '4300', '4350'],
    'Braga': ['4700', '4710', '4715', '4720', '4730'],
    'Coimbra': ['3000', '3020', '3025', '3030', '3040'],
    'Faro': ['8000', '8005', '8100', '8125']
  },
  'Royaume-Uni': {
    'Londres': ['E1', 'E2', 'E3', 'E14', 'EC1', 'EC2', 'EC3', 'EC4', 'N1', 'N7', 'NW1', 'NW3', 'SE1', 'SE11', 'SW1', 'SW3', 'SW5', 'SW7', 'W1', 'W2', 'WC1', 'WC2'],
    'Manchester': ['M1', 'M2', 'M3', 'M4', 'M5', 'M15', 'M16', 'M17'],
    'Birmingham': ['B1', 'B2', 'B3', 'B4', 'B5', 'B15', 'B16'],
    'Liverpool': ['L1', 'L2', 'L3', 'L4', 'L5', 'L6', 'L7', 'L8'],
    'Leeds': ['LS1', 'LS2', 'LS3', 'LS4', 'LS5', 'LS6'],
    'Glasgow': ['G1', 'G2', 'G3', 'G4', 'G5', 'G11', 'G12'],
    'Édimbourg': ['EH1', 'EH2', 'EH3', 'EH4', 'EH5', 'EH6']
  },
  'Belgique': {
    'Bruxelles': ['1000', '1020', '1030', '1040', '1050', '1060', '1070', '1080', '1090'],
    'Anvers': ['2000', '2018', '2020', '2030', '2040', '2050', '2060'],
    'Gand': ['9000', '9030', '9040', '9050'],
    'Liège': ['4000', '4020', '4030', '4031', '4032'],
    'Bruges': ['8000', '8200', '8310', '8380']
  },
  'Pays-Bas': {
    'Amsterdam': ['1011', '1012', '1013', '1014', '1015', '1016', '1017', '1018'],
    'Rotterdam': ['3011', '3012', '3013', '3014', '3015', '3016'],
    'La Haye': ['2511', '2512', '2513', '2514', '2515', '2516'],
    'Utrecht': ['3511', '3512', '3513', '3514', '3515']
  },
  'Suisse': {
    'Zurich': ['8001', '8002', '8003', '8004', '8005', '8006', '8008'],
    'Genève': ['1201', '1202', '1203', '1204', '1205', '1206', '1207'],
    'Bâle': ['4001', '4051', '4052', '4053', '4054', '4055'],
    'Lausanne': ['1000', '1003', '1004', '1005', '1006', '1007'],
    'Berne': ['3000', '3001', '3003', '3004', '3005', '3006']
  },
  'Autriche': {
    'Vienne': ['1010', '1020', '1030', '1040', '1050', '1060', '1070', '1080', '1090'],
    'Graz': ['8010', '8020', '8041', '8042', '8043', '8044'],
    'Linz': ['4020', '4030', '4040', '4050'],
    'Salzbourg': ['5020', '5061', '5071', '5081'],
    'Innsbruck': ['6020', '6060', '6080']
  },
  'Canada': {
    'Toronto': ['M4B', 'M4C', 'M4E', 'M4G', 'M4H', 'M4J', 'M4K', 'M4L', 'M4M', 'M4N', 'M4P', 'M4R', 'M4S', 'M4T', 'M4V', 'M4W', 'M4X', 'M4Y', 'M5A', 'M5B'],
    'Montréal': ['H1A', 'H1B', 'H1C', 'H1E', 'H1G', 'H1H', 'H1J', 'H1K', 'H1L', 'H1M', 'H1N', 'H1P', 'H1R', 'H1S', 'H1T', 'H1V', 'H1W', 'H1X', 'H1Y', 'H1Z'],
    'Vancouver': ['V5A', 'V5B', 'V5C', 'V5E', 'V5G', 'V5H', 'V5J', 'V5K', 'V5L', 'V5M', 'V5N', 'V5P', 'V5R', 'V5S', 'V5T', 'V5V', 'V5W', 'V5X', 'V5Y', 'V5Z'],
    'Calgary': ['T1X', 'T1Y', 'T2A', 'T2B', 'T2C', 'T2E', 'T2G', 'T2H', 'T2J', 'T2K', 'T2L', 'T2M', 'T2N', 'T2P', 'T2R', 'T2S', 'T2T', 'T2V', 'T2W', 'T2X'],
    'Ottawa': ['K1A', 'K1B', 'K1C', 'K1E', 'K1G', 'K1H', 'K1J', 'K1K', 'K1L', 'K1M', 'K1N', 'K1P', 'K1R', 'K1S', 'K1T', 'K1V', 'K1W', 'K1X', 'K1Y', 'K1Z']
  },
  'USA': {
    'New York': ['10001', '10002', '10003', '10004', '10005', '10006', '10007', '10008', '10009', '10010', '10011', '10012', '10013', '10014', '10016', '10017', '10018', '10019', '10020', '10021'],
    'Los Angeles': ['90001', '90002', '90003', '90004', '90005', '90006', '90007', '90008', '90010', '90011', '90012', '90013', '90014', '90015', '90016', '90017', '90018', '90019', '90020'],
    'Chicago': ['60601', '60602', '60603', '60604', '60605', '60606', '60607', '60608', '60609', '60610', '60611', '60612', '60613', '60614', '60615', '60616', '60617', '60618'],
    'Houston': ['77001', '77002', '77003', '77004', '77005', '77006', '77007', '77008', '77009', '77010', '77011', '77012', '77013', '77014', '77015', '77016', '77017', '77018'],
    'Phoenix': ['85001', '85002', '85003', '85004', '85005', '85006', '85007', '85008', '85009', '85010', '85011', '85012', '85013', '85014', '85015', '85016', '85017'],
    'Philadelphie': ['19102', '19103', '19104', '19105', '19106', '19107', '19108', '19109', '19110', '19111', '19112', '19113', '19114', '19115', '19116', '19117', '19118'],
    'San Antonio': ['78201', '78202', '78203', '78204', '78205', '78206', '78207', '78208', '78209', '78210', '78211', '78212', '78213', '78214', '78215', '78216'],
    'San Diego': ['92101', '92102', '92103', '92104', '92105', '92106', '92107', '92108', '92109', '92110', '92111', '92112', '92113', '92114', '92115', '92116'],
    'Dallas': ['75201', '75202', '75203', '75204', '75205', '75206', '75207', '75208', '75209', '75210', '75211', '75212', '75214', '75215', '75216', '75217'],
    'Miami': ['33101', '33102', '33103', '33104', '33105', '33106', '33107', '33108', '33109', '33110', '33111', '33112', '33113', '33114', '33115', '33116']
  },
  'Maroc': {
    'Casablanca': ['20000', '20100', '20200', '20300', '20400', '20500'],
    'Rabat': ['10000', '10100', '10200'],
    'Marrakech': ['40000', '40100', '40200'],
    'Fès': ['30000', '30100', '30200'],
    'Tanger': ['90000', '90100']
  },
  'Tunisie': {
    'Tunis': ['1000', '1001', '1002', '1003', '1004', '1005', '1006', '1007', '1008', '1009'],
    'Sfax': ['3000', '3001', '3002', '3003'],
    'Sousse': ['4000', '4001', '4002', '4003'],
    'Kairouan': ['3100', '3110', '3120'],
    'Bizerte': ['7000', '7001', '7002']
  },
  'Algérie': {
    'Alger': ['16000', '16001', '16002', '16003', '16004', '16005'],
    'Oran': ['31000', '31001', '31002', '31003'],
    'Constantine': ['25000', '25001', '25002'],
    'Annaba': ['23000', '23001', '23002'],
    'Blida': ['09000', '09001']
  }
};

// Fonction pour obtenir les codes postaux d'un pays
// Si trop de codes, on prend seulement les grandes villes
function getPostalCodesForCountry(country) {
  const cityData = majorCitiesPostalCodes[country];
  if (!cityData) {
    return [];
  }
  
  // Collecter tous les codes postaux des grandes villes
  const allPostalCodes = [];
  Object.values(cityData).forEach(cityPostalCodes => {
    allPostalCodes.push(...cityPostalCodes);
  });
  
  // Retourner tous les codes postaux sans limite
  return allPostalCodes;
}

// Fonction pour obtenir les codes postaux pour plusieurs pays
function getPostalCodesForCountries(countries) {
  const postalCodesByCountry = {};
  
  countries.forEach(country => {
    postalCodesByCountry[country] = getPostalCodesForCountry(country);
  });
  
  return postalCodesByCountry;
}

// Fonction pour obtenir un échantillon de codes postaux pour plusieurs pays
function getSamplePostalCodesForCountries(countries, maxPerCountry = 10) {
  const result = [];
  
  countries.forEach(country => {
    const countryPostalCodes = getPostalCodesForCountry(country);
    const sample = countryPostalCodes.slice(0, maxPerCountry);
    result.push(...sample);
  });
  
  return result;
}

module.exports = {
  majorCitiesPostalCodes,
  getPostalCodesForCountry,
  getPostalCodesForCountries,
  getSamplePostalCodesForCountries
};